function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"3ZFV":function(t,e,a){"use strict";a.r(e),a.d(e,"ListaSolicitacaoModule",(function(){return Wt}));var n,c,i=a("ofXK"),o=a("lJxs"),r=a("UXun"),b=a("fXoL"),s=a("nLfN"),u=a("XNiG"),l=a("itXk"),d=a("GyhO"),f=a("HDdC"),p=a("IzEk"),m=a("zP0r"),h=a("Kj3r"),g=a("JX91"),v=a("1G5W"),k=a("8LU1"),W=new Set,X=((c=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!W.has(t))try{n||((n=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(n)),n.sheet&&(n.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),W.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||c)(b.bc(s.a))},c.\u0275prov=Object(b.Nb)({factory:function(){return new c(Object(b.bc)(s.a))},token:c,providedIn:"root"}),c);function C(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var E,S=((E=function(){function t(e,a){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=a,this._queries=new Map,this._destroySubject=new u.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return y(Object(k.a)(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,a=y(Object(k.a)(t)).map((function(t){return e._registerQuery(t).observable})),n=Object(l.a)(a);return(n=Object(d.a)(n.pipe(Object(p.a)(1)),n.pipe(Object(m.a)(1),Object(h.a)(0)))).pipe(Object(o.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var a=this._mediaMatcher.matchMedia(t),n={observable:new f.a((function(t){var n=function(a){return e._zone.run((function(){return t.next(a)}))};return a.addListener(n),function(){a.removeListener(n)}})).pipe(Object(g.a)(a),Object(o.a)((function(e){return{query:t,matches:e.matches}})),Object(v.a)(this._destroySubject)),mql:a};return this._queries.set(t,n),n}}]),t}()).\u0275fac=function(t){return new(t||E)(b.bc(X),b.bc(b.A))},E.\u0275prov=Object(b.Nb)({factory:function(){return new E(Object(b.bc)(X),Object(b.bc)(b.A))},token:E,providedIn:"root"}),E);function y(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var P,G=a("mrSG"),O=a("aceb"),w=a("8/IB"),D=a("vI6V"),j=a("wd/R"),_=a("wHSu"),T=((P=function(){function t(e){_classCallCheck(this,t),this.ref=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.ref.close(!1)}},{key:"submit",value:function(){this.ref.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||P)(b.Rb(O.E))},P.\u0275cmp=b.Lb({type:P,selectors:[["ngx-dialog-show-component"]],decls:10,vars:0,consts:[["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"click"]],template:function(t,e){1&t&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Gc(2,"Confirme a altera\xe7\xe3o de status"),b.Wb(),b.Xb(3,"nb-card-body"),b.Gc(4," Voc\xea tem certeza que deseja solicitar o cancelamento? "),b.Wb(),b.Xb(5,"nb-card-footer"),b.Xb(6,"button",0),b.fc("click",(function(){return e.cancel()})),b.Gc(7,"Cancelar"),b.Wb(),b.Xb(8,"button",1),b.fc("click",(function(){return e.submit()})),b.Gc(9,"Solicitar"),b.Wb(),b.Wb(),b.Wb())},directives:[O.p,O.s,O.o,O.q,O.l],styles:["input[_ngcontent-%COMP%]{width:100%}.cancel[_ngcontent-%COMP%]{margin-right:2rem}"]}),P),x=a("3Pt+"),N=a("6NWb"),M=a("tyNb");function R(t,e){if(1&t&&(b.Xb(0,"nb-option",34),b.Gc(1),b.Wb()),2&t){var a=e.$implicit;b.pc("value",a.k),b.Eb(1),b.Hc(a.v)}}function I(t,e){1&t&&b.Sb(0,"tr",35)}function F(t,e){1&t&&b.Sb(0,"tr",36),2&t&&b.pc("clickToToggle",!1)}function L(t,e){if(1&t&&(b.Xb(0,"th",37),b.Gc(1," Status/Produto "),b.Wb()),2&t){var a=b.jc();b.pc("nbSortHeader",a.getSortDirection("nome"))}}function A(t,e){if(1&t&&b.Sb(0,"nb-tree-grid-row-toggle",40),2&t){var a=b.jc().$implicit;b.pc("expanded",a.expanded)}}function B(t,e){if(1&t&&(b.Xb(0,"td",38),b.Ec(1,A,1,1,"nb-tree-grid-row-toggle",39),b.Gc(2),b.Wb()),2&t){var a=e.$implicit;b.Eb(1),b.pc("ngIf",a.children),b.Eb(1),b.Ic(" ",a.data.nome," ")}}function H(t,e){if(1&t&&(b.Xb(0,"th",37),b.Gc(1," Dt. Desejada/Qtd. Solicitada "),b.Wb()),2&t){var a=b.jc();b.pc("nbSortHeader",a.getSortDirection("uq"))}}function Y(t,e){if(1&t&&(b.Xb(0,"td",38),b.Gc(1),b.Wb()),2&t){var a=e.$implicit;b.Eb(1),b.Ic(" ",a.data.uq," ")}}function q(t,e){if(1&t&&(b.Xb(0,"th",37),b.Gc(1," Valor "),b.Wb()),2&t){var a=b.jc();b.pc("nbSortHeader",a.getSortDirection("valor"))}}function z(t,e){if(1&t&&(b.Xb(0,"td",38),b.Gc(1),b.Wb()),2&t){var a=e.$implicit;b.Eb(1),b.Ic(" ",a.data.valor," ")}}function V(t,e){if(1&t&&(b.Xb(0,"th",37),b.Gc(1," Criado em "),b.Wb()),2&t){var a=b.jc();b.pc("nbSortHeader",a.getSortDirection("dataDesejada"))}}function $(t,e){if(1&t&&(b.Xb(0,"td",38),b.Gc(1),b.Wb()),2&t){var a=e.$implicit;b.Eb(1),b.Ic(" ",a.data.criadoEm," ")}}function U(t,e){1&t&&(b.Xb(0,"th",41),b.Gc(1," Cancelar "),b.Wb())}function K(t,e){if(1&t){var a=b.Yb();b.Xb(0,"td",38),b.Xb(1,"button",42),b.fc("click",(function(){b.yc(a);var t=e.$implicit;return b.jc().alterarStatus(t.data._id)})),b.Sb(2,"fa-icon",31),b.Wb(),b.Wb()}if(2&t){var n=e.$implicit,c=b.jc();b.Eb(1),b.pc("disabled","Aberto"!==n.data.nome),b.Eb(1),b.pc("icon",c.faTrash)}}function J(t,e){if(1&t){var a=b.Yb();b.Xb(0,"button",43),b.fc("click",(function(){b.yc(a);var t=b.jc();return t.mudarPagina(t.pageNumber-1)})),b.Gc(1),b.Wb()}if(2&t){var n=b.jc();b.Eb(1),b.Ic(" ",n.pageNumber-1," ")}}function Q(t,e){if(1&t){var a=b.Yb();b.Xb(0,"button",43),b.fc("click",(function(){b.yc(a);var t=b.jc();return t.mudarPagina(t.pageNumber+1)})),b.Gc(1),b.Wb()}if(2&t){var n=b.jc();b.Eb(1),b.Ic(" ",n.pageNumber+1," ")}}var Z,tt,et=((tt=function(){function t(e,a,n,c,i){_classCallCheck(this,t),this.dataSourceBuilder=e,this.solicitacaoProdutoService=a,this.fb=n,this.toastrService=c,this.dialogService=i,this.customColumn="nome",this.defaultColumns=[],this.allColumns=["nome","uq","valor","dataDesejada","cancelar"],this.status=Object.keys(D.d).map((function(t){return{k:t,v:D.d[t]}})),this.sortDirection=O.ib.NONE,this.filtro=this.fb.group({dataCriacao:null,dataDesejada:null,status:null}),this.faSearch=_.g,this.faPlus=_.f,this.faTrash=_.h,this.faAngleRight=_.d,this.faAngleLeft=_.c,this.faAngleDoubleLeft=_.a,this.faAngleDoubleRight=_.b,this.nPerPage=10,this.pageNumber=1}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=j().startOf("month"),a=j().endOf("month"),this.filtro.patchValue({status:"ABERTO",dataCriacao:{start:e,end:a},dataDesejada:{start:e,end:a}}),this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(t){n.setData(t.solicitacoes),n.setLastPageAndCount(t.count)}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setLastPageAndCount",value:function(t){this.countSolicitacoes=t,this.nOfPages=Math.ceil(t/this.nPerPage)}},{key:"setData",value:function(t){this.data=t.map((function(t){var e=t.produtos;delete t.produtos;var a=e.map((function(t){return{data:{uq:t.quantidade,nome:t.produto.nome,valor:"R$ ".concat(t.valor.toFixed(2))}}})),n=j(t.dataDesejada).format("DD/MM/YYYY"),c=j(t.criadoEm).format("DD/MM/YYYY");return{data:{_id:t._id,nome:D.d[t.status],uq:n,valor:"R$ ".concat(t.valorTotal.toFixed(2)),criadoEm:c},children:a}})),this.dataSource=this.dataSourceBuilder.create(this.data)}},{key:"buscar",value:function(){var t=this;this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.setData(e.solicitacoes),t.setLastPageAndCount(e.count),t.pageNumber=1}))}},{key:"cancelar",value:function(t){var e=this;this.solicitacaoProdutoService.cancelar(t).subscribe((function(t){e.toastrService.info("Favor, aguarde aprova\xe7\xe3o do respons\xe1vel","Solicita\xe7\xe3o de cancelamento enviada",{duration:6e3}),e.buscar()}))}},{key:"mudarPagina",value:function(t){var e=this;this.pageNumber=t,this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,this.pageNumber,this.nPerPage).subscribe((function(t){e.setData(t.solicitacoes),e.setLastPageAndCount(t.count)}))}},{key:"updateSort",value:function(t){this.sortColumn=t.column,this.sortDirection=t.direction}},{key:"getSortDirection",value:function(t){return this.sortColumn===t?this.sortDirection:O.ib.NONE}},{key:"getShowOn",value:function(t){return 400+100*t}},{key:"alterarStatus",value:function(t){var e=this;this.dialogService.open(T).onClose.subscribe((function(a){a&&e.cancelar(t)}))}}]),t}()).\u0275fac=function(t){return new(t||tt)(b.Rb(O.yb),b.Rb(w.a),b.Rb(x.c),b.Rb(O.pb),b.Rb(O.F))},tt.\u0275cmp=b.Lb({type:tt,selectors:[["ngx-lista-solicitacao-desktop"]],decls:65,vars:22,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["placeholder","Status","formControlName","status","fullWidth",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","form-group"],[1,"label"],["nbInput","","formControlName","dataCriacao",3,"nbDatepicker"],["format","DD/MM/YYYY"],["rangepicker",""],["nbInput","","formControlName","dataDesejada",3,"nbDatepicker"],["dataDesejada",""],["nbButton","","status","basic",2,"padding","6px","margin-right","8px",3,"click"],[2,"margin-right","5px",3,"icon"],["nbButton","","status","primary","routerLink","/pages/solicitacao-produto/solicitar",2,"padding","6px"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],[3,"nbTreeGridColumnDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","uq"],["nbTreeGridColumnDef","valor"],["nbTreeGridColumnDef","dataDesejada"],["nbTreeGridColumnDef","cancelar"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbButton","","ghost","",3,"disabled"],[3,"icon","click"],["nbButton","","ghost","",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","",3,"click",4,"ngIf"],["nbButton","","ghost","","status","primary"],[3,"value"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle"],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridCell",""],[3,"expanded",4,"ngIf"],[3,"expanded"],["nbTreeGridHeaderCell",""],["ghost","","nbButton","","size","small",3,"disabled","click"],["nbButton","","ghost","",3,"click"]],template:function(t,e){if(1&t&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Gc(2," Minhas solicita\xe7\xf5es "),b.Wb(),b.Xb(3,"nb-card-body"),b.Xb(4,"form",0),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"label",3),b.Gc(8,"Status"),b.Wb(),b.Xb(9,"nb-select",4),b.Xb(10,"nb-option",5),b.Gc(11,"Todos"),b.Wb(),b.Ec(12,R,2,2,"nb-option",6),b.Wb(),b.Wb(),b.Xb(13,"div",7),b.Xb(14,"label",8),b.Gc(15,"Data de cria\xe7\xe3o:"),b.Wb(),b.Sb(16,"input",9),b.Sb(17,"nb-rangepicker",10,11),b.Wb(),b.Xb(19,"div",7),b.Xb(20,"label",8),b.Gc(21,"Data desejada:"),b.Wb(),b.Sb(22,"input",12),b.Sb(23,"nb-rangepicker",10,13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"nb-card-footer"),b.Xb(26,"button",14),b.fc("click",(function(){return e.buscar()})),b.Sb(27,"fa-icon",15),b.Gc(28,"buscar "),b.Wb(),b.Xb(29,"button",16),b.Sb(30,"fa-icon",15),b.Gc(31,"solicita\xe7\xe3o "),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"nb-card"),b.Xb(33,"nb-card-body"),b.Xb(34,"table",17),b.fc("sort",(function(t){return e.updateSort(t)})),b.Ec(35,I,1,0,"tr",18),b.Ec(36,F,1,1,"tr",19),b.Vb(37,20),b.Ec(38,L,2,1,"th",21),b.Ec(39,B,3,2,"td",22),b.Ub(),b.Vb(40,23),b.Ec(41,H,2,1,"th",21),b.Ec(42,Y,2,1,"td",22),b.Ub(),b.Vb(43,24),b.Ec(44,q,2,1,"th",21),b.Ec(45,z,2,1,"td",22),b.Ub(),b.Vb(46,25),b.Ec(47,V,2,1,"th",21),b.Ec(48,$,2,1,"td",22),b.Ub(),b.Vb(49,26),b.Ec(50,U,2,0,"th",27),b.Ec(51,K,3,2,"td",22),b.Ub(),b.Wb(),b.Wb(),b.Xb(52,"nb-card-footer"),b.Xb(53,"button",28),b.Xb(54,"fa-icon",29),b.fc("click",(function(){return e.mudarPagina(1)})),b.Wb(),b.Wb(),b.Xb(55,"button",30),b.fc("click",(function(){return e.mudarPagina(e.pageNumber-2)})),b.Sb(56,"fa-icon",31),b.Wb(),b.Ec(57,J,2,1,"button",32),b.Xb(58,"button",33),b.Gc(59),b.Wb(),b.Ec(60,Q,2,1,"button",32),b.Xb(61,"button",30),b.fc("click",(function(){return e.mudarPagina(e.pageNumber+2)})),b.Sb(62,"fa-icon",31),b.Wb(),b.Xb(63,"button",30),b.fc("click",(function(){return e.mudarPagina(e.nOfPages)})),b.Sb(64,"fa-icon",31),b.Wb(),b.Wb(),b.Wb()),2&t){var a=b.wc(18),n=b.wc(24);b.Eb(4),b.pc("formGroup",e.filtro),b.Eb(8),b.pc("ngForOf",e.status),b.Eb(4),b.pc("nbDatepicker",a),b.Eb(6),b.pc("nbDatepicker",n),b.Eb(5),b.pc("icon",e.faSearch),b.Eb(3),b.pc("icon",e.faPlus),b.Eb(4),b.pc("nbTreeGrid",e.dataSource)("nbSort",e.dataSource),b.Eb(1),b.pc("nbTreeGridHeaderRowDef",e.allColumns),b.Eb(1),b.pc("nbTreeGridRowDefColumns",e.allColumns),b.Eb(1),b.pc("nbTreeGridColumnDef",e.customColumn),b.Eb(16),b.pc("disabled",1===e.pageNumber),b.Eb(1),b.pc("icon",e.faAngleDoubleLeft),b.Eb(1),b.pc("disabled",e.pageNumber<=2),b.Eb(1),b.pc("icon",e.faAngleLeft),b.Eb(1),b.pc("ngIf",e.pageNumber>1),b.Eb(2),b.Ic(" ",e.pageNumber," "),b.Eb(1),b.pc("ngIf",e.pageNumber<e.nOfPages),b.Eb(1),b.pc("disabled",e.pageNumber>=e.nOfPages-2),b.Eb(1),b.pc("icon",e.faAngleRight),b.Eb(1),b.pc("disabled",e.pageNumber===e.nOfPages),b.Eb(1),b.pc("icon",e.faAngleDoubleRight)}},directives:[O.p,O.s,O.o,x.z,x.o,x.g,O.db,x.n,x.f,O.ab,i.l,O.K,x.b,O.B,O.bb,O.q,O.l,N.a,M.d,O.xb,O.jb,O.Cb,O.Fb,O.wb,O.zb,O.ub,i.m,O.Bb,O.Eb,O.Ab,O.kb,O.vb,O.Gb],styles:["button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-column-kind[_ngcontent-%COMP%], .nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-items[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:23%}}"]}),tt),at=((Z=function(){function t(e){_classCallCheck(this,t),this.ref=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.ref.close(!1)}},{key:"submit",value:function(){this.ref.close(!0)}}]),t}()).\u0275fac=function(t){return new(t||Z)(b.Rb(O.E))},Z.\u0275cmp=b.Lb({type:Z,selectors:[["ngx-dialog-show-sol-mobile"]],decls:10,vars:0,consts:[["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"click"]],template:function(t,e){1&t&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Gc(2,"Confirme a altera\xe7\xe3o de status"),b.Wb(),b.Xb(3,"nb-card-body"),b.Gc(4," Voc\xea tem certeza que deseja solicitar o cancelamento? "),b.Wb(),b.Xb(5,"nb-card-footer"),b.Xb(6,"button",0),b.fc("click",(function(){return e.cancel()})),b.Gc(7,"Cancelar"),b.Wb(),b.Xb(8,"button",1),b.fc("click",(function(){return e.submit()})),b.Gc(9,"Solicitar"),b.Wb(),b.Wb(),b.Wb())},directives:[O.p,O.s,O.o,O.q,O.l],styles:["input[_ngcontent-%COMP%]{width:100%}.cancel[_ngcontent-%COMP%]{margin-right:2rem}"]}),Z);function nt(t,e){if(1&t&&(b.Xb(0,"nb-option",30),b.Gc(1),b.Wb()),2&t){var a=e.$implicit;b.pc("value",a.k),b.Eb(1),b.Hc(a.v)}}function ct(t,e){if(1&t){var a=b.Yb();b.Xb(0,"nb-list-item",31),b.fc("click",(function(){b.yc(a);var t=e.$implicit;return b.jc().toggleView(t)})),b.Xb(1,"span"),b.Gc(2),b.Wb(),b.Xb(3,"span",32),b.Gc(4),b.Wb(),b.Xb(5,"span"),b.Gc(6),b.Wb(),b.Wb()}if(2&t){var n=e.$implicit,c=b.jc();b.Eb(2),b.Hc(c.obterValorStatusEnum(n.status)),b.Eb(2),b.Hc(c.formatarData(n.dataDesejada)),b.Eb(2),b.Ic("R$",n.valorTotal.toFixed(2),"")}}function it(t,e){if(1&t){var a=b.Yb();b.Xb(0,"button",33),b.fc("click",(function(){b.yc(a);var t=b.jc();return t.mudarPagina(t.pageNumber-1)})),b.Gc(1),b.Wb()}if(2&t){var n=b.jc();b.Eb(1),b.Ic(" ",n.pageNumber-1," ")}}function ot(t,e){if(1&t){var a=b.Yb();b.Xb(0,"button",33),b.fc("click",(function(){b.yc(a);var t=b.jc();return t.mudarPagina(t.pageNumber+1)})),b.Gc(1),b.Wb()}if(2&t){var n=b.jc();b.Eb(1),b.Ic(" ",n.pageNumber+1," ")}}function rt(t,e){if(1&t&&(b.Xb(0,"nb-list-item",18),b.Xb(1,"span",34),b.Gc(2),b.Wb(),b.Xb(3,"span"),b.Gc(4),b.Wb(),b.Xb(5,"span"),b.Gc(6),b.Wb(),b.Wb()),2&t){var a=e.$implicit;b.Eb(2),b.Hc(a.produto.nome),b.Eb(2),b.Ic("",a.quantidade," Und."),b.Eb(2),b.Ic("R$ ",a.valor.toFixed(2),"")}}var bt,st=((bt=function(){function t(e,a,n,c){_classCallCheck(this,t),this.fb=e,this.solicitacaoProdutoService=a,this.dialogService=n,this.toastrService=c,this.faSearch=_.g,this.faPlus=_.f,this.faAngleRight=_.d,this.faAngleLeft=_.c,this.faAngleDoubleLeft=_.a,this.faAngleDoubleRight=_.b,this.status=Object.keys(D.d).map((function(t){return{k:t,v:D.d[t]}})),this.nPerPage=10,this.revealed=!1,this.pageNumber=1,this.faTrash=_.h,this.filtro=this.fb.group({dataCriacao:null,dataDesejada:null,status:null}),this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=j().startOf("month"),a=j().endOf("month");this.filtro.patchValue({status:"ABERTO",dataCriacao:{start:e,end:a},dataDesejada:{start:e,end:a}}),this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.data=e.solicitacoes,t.setLastPageAndCount(e.count)}))}},{key:"toggleView",value:function(t){this.revealed=!this.revealed,this.solicitacaoFlipada=t}},{key:"buscar",value:function(){var t=this;this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,1,this.nPerPage).subscribe((function(e){t.data=e.solicitacoes,t.setLastPageAndCount(e.count)}))}},{key:"formatarData",value:function(t){return j(t).format("DD/MM/YYYY")}},{key:"setLastPageAndCount",value:function(t){this.countSolicitacoes=t,this.nOfPages=Math.ceil(t/this.nPerPage)}},{key:"mudarPagina",value:function(t){var e=this;this.pageNumber=t,this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value,this.pageNumber,this.nPerPage).subscribe((function(t){e.data=t.solicitacoes,e.setLastPageAndCount(t.count)}))}},{key:"obterValorStatusEnum",value:function(t){return D.d[t]}},{key:"alterarStatus",value:function(t){var e=this;this.dialogService.open(at).onClose.subscribe((function(a){a&&e.cancelar(t)}))}},{key:"cancelar",value:function(t){var e=this;this.solicitacaoProdutoService.cancelar(t).subscribe((function(t){e.toastrService.info("Favor, aguarde aprova\xe7\xe3o do respons\xe1vel","Solicita\xe7\xe3o de cancelamento enviada",{duration:6e3}),e.buscar()}))}}]),t}()).\u0275fac=function(t){return new(t||bt)(b.Rb(x.c),b.Rb(w.a),b.Rb(O.F),b.Rb(O.pb))},bt.\u0275cmp=b.Lb({type:bt,selectors:[["ngx-lista-solicitacao-mobile"]],decls:75,vars:27,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["placeholder","Status","formControlName","status","fullWidth",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","form-group"],[1,"label"],["nbInput","","formControlName","dataCriacao",3,"nbDatepicker"],["format","DD/MM/YYYY"],["rangepicker",""],["nbInput","","formControlName","dataDesejada",3,"nbDatepicker"],["dataDesejada",""],["nbButton","","status","basic",2,"padding","6px","margin-right","8px",3,"click"],[2,"margin-right","5px",3,"icon"],["nbButton","","status","primary","routerLink","/pages/solicitacao-produto/solicitar",2,"padding","6px"],[1,"own-scroll",3,"showToggleButton","flipped"],[1,"item",2,"font-size","small"],["class","item","style","font-size: small;",3,"click",4,"ngFor","ngForOf"],["nbButton","","ghost","","size","small",3,"disabled"],[3,"icon","click"],["nbButton","","ghost","","size","small",3,"disabled","click"],[3,"icon"],["nbButton","","ghost","","size","small",3,"click",4,"ngIf"],["nbButton","","ghost","","size","small","status","primary"],[2,"flex","1","padding","3px"],[2,"flex","2","padding","3px"],["class","item","style","font-size: small;",4,"ngFor","ngForOf"],["ghost","","nbButton","","size","small",3,"disabled","click"],[3,"value"],[1,"item",2,"font-size","small",3,"click"],[2,"padding","5px"],["nbButton","","ghost","","size","small",3,"click"],[2,"flex","2"]],template:function(t,e){if(1&t&&(b.Xb(0,"nb-card"),b.Xb(1,"nb-card-header"),b.Gc(2," Minhas solicita\xe7\xf5es "),b.Wb(),b.Xb(3,"nb-card-body"),b.Xb(4,"form",0),b.Xb(5,"div",1),b.Xb(6,"div",2),b.Xb(7,"label",3),b.Gc(8,"Status"),b.Wb(),b.Xb(9,"nb-select",4),b.Xb(10,"nb-option",5),b.Gc(11,"Todos"),b.Wb(),b.Ec(12,nt,2,2,"nb-option",6),b.Wb(),b.Wb(),b.Xb(13,"div",7),b.Xb(14,"label",8),b.Gc(15,"Data de cria\xe7\xe3o:"),b.Wb(),b.Sb(16,"input",9),b.Sb(17,"nb-rangepicker",10,11),b.Wb(),b.Xb(19,"div",7),b.Xb(20,"label",8),b.Gc(21,"Data desejada:"),b.Wb(),b.Sb(22,"input",12),b.Sb(23,"nb-rangepicker",10,13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"nb-card-footer"),b.Xb(26,"button",14),b.fc("click",(function(){return e.buscar()})),b.Sb(27,"fa-icon",15),b.Gc(28,"buscar "),b.Wb(),b.Xb(29,"button",16),b.Sb(30,"fa-icon",15),b.Gc(31,"solicita\xe7\xe3o "),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"nb-flip-card",17),b.Xb(33,"nb-card-front"),b.Xb(34,"nb-card"),b.Xb(35,"nb-card-header",18),b.Xb(36,"span"),b.Gc(37,"Status"),b.Wb(),b.Xb(38,"span"),b.Gc(39,"Dt. Desejada"),b.Wb(),b.Xb(40,"span"),b.Gc(41,"Valor Total"),b.Wb(),b.Wb(),b.Xb(42,"nb-card-body"),b.Xb(43,"nb-list"),b.Ec(44,ct,7,3,"nb-list-item",19),b.Wb(),b.Wb(),b.Xb(45,"nb-card-footer"),b.Xb(46,"button",20),b.Xb(47,"fa-icon",21),b.fc("click",(function(){return e.mudarPagina(1)})),b.Wb(),b.Wb(),b.Xb(48,"button",22),b.fc("click",(function(){return e.mudarPagina(e.pageNumber-2)})),b.Sb(49,"fa-icon",23),b.Wb(),b.Ec(50,it,2,1,"button",24),b.Xb(51,"button",25),b.Gc(52),b.Wb(),b.Ec(53,ot,2,1,"button",24),b.Xb(54,"button",22),b.fc("click",(function(){return e.mudarPagina(e.pageNumber+2)})),b.Sb(55,"fa-icon",23),b.Wb(),b.Xb(56,"button",22),b.fc("click",(function(){return e.mudarPagina(e.nOfPages)})),b.Sb(57,"fa-icon",23),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(58,"nb-card-back"),b.Xb(59,"nb-card"),b.Xb(60,"nb-card-header",18),b.Xb(61,"span",26),b.Xb(62,"fa-icon",21),b.fc("click",(function(){return e.toggleView()})),b.Wb(),b.Wb(),b.Xb(63,"span",27),b.Gc(64),b.Wb(),b.Xb(65,"span",27),b.Gc(66),b.Wb(),b.Xb(67,"span",27),b.Gc(68),b.Wb(),b.Wb(),b.Xb(69,"nb-card-body"),b.Xb(70,"nb-list"),b.Ec(71,rt,7,3,"nb-list-item",28),b.Wb(),b.Wb(),b.Xb(72,"nb-card-footer"),b.Xb(73,"button",29),b.fc("click",(function(){return e.alterarStatus(e.solicitacaoFlipada._id)})),b.Sb(74,"fa-icon",23),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){var a=b.wc(18),n=b.wc(24);b.Eb(4),b.pc("formGroup",e.filtro),b.Eb(8),b.pc("ngForOf",e.status),b.Eb(4),b.pc("nbDatepicker",a),b.Eb(6),b.pc("nbDatepicker",n),b.Eb(5),b.pc("icon",e.faSearch),b.Eb(3),b.pc("icon",e.faPlus),b.Eb(2),b.pc("showToggleButton",!1)("flipped",e.revealed),b.Eb(12),b.pc("ngForOf",e.data),b.Eb(2),b.pc("disabled",1===e.pageNumber),b.Eb(1),b.pc("icon",e.faAngleDoubleLeft),b.Eb(1),b.pc("disabled",e.pageNumber<=2),b.Eb(1),b.pc("icon",e.faAngleLeft),b.Eb(1),b.pc("ngIf",e.pageNumber>1),b.Eb(2),b.Ic(" ",e.pageNumber," "),b.Eb(1),b.pc("ngIf",e.pageNumber<e.nOfPages),b.Eb(1),b.pc("disabled",e.pageNumber>=e.nOfPages-2),b.Eb(1),b.pc("icon",e.faAngleRight),b.Eb(1),b.pc("disabled",e.pageNumber===e.nOfPages),b.Eb(1),b.pc("icon",e.faAngleDoubleRight),b.Eb(5),b.pc("icon",e.faAngleLeft),b.Eb(2),b.Hc(e.solicitacaoFlipada&&e.obterValorStatusEnum(e.solicitacaoFlipada.status)),b.Eb(2),b.Hc(e.solicitacaoFlipada&&e.formatarData(e.solicitacaoFlipada.dataDesejada)),b.Eb(2),b.Ic("R$",e.solicitacaoFlipada&&e.solicitacaoFlipada.valorTotal.toFixed(2),""),b.Eb(3),b.pc("ngForOf",e.solicitacaoFlipada&&e.solicitacaoFlipada.produtos),b.Eb(2),b.pc("disabled",e.solicitacaoFlipada&&"ABERTO"!==e.solicitacaoFlipada.status),b.Eb(1),b.pc("icon",e.faTrash)}},directives:[O.p,O.s,O.o,x.z,x.o,x.g,O.db,x.n,x.f,O.ab,i.l,O.K,x.b,O.B,O.bb,O.q,O.l,N.a,M.d,O.G,O.r,O.T,i.m,O.n,O.U],styles:[".item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.item[_ngcontent-%COMP%]:first-child{border-top:none}"]}),bt);function ut(t,e){1&t&&b.Sb(0,"ngx-lista-solicitacao-desktop")}function lt(t,e){1&t&&b.Sb(0,"ngx-lista-solicitacao-mobile")}var dt,ft,pt,mt,ht=((dt=function(){function t(e){_classCallCheck(this,t),this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)").pipe(Object(o.a)((function(t){return t.matches})),Object(r.a)())}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dt)(b.Rb(S))},dt.\u0275cmp=b.Lb({type:dt,selectors:[["ngx-lista-solicitacao"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["mobileList",""]],template:function(t,e){if(1&t&&(b.Ec(0,ut,1,0,"ngx-lista-solicitacao-desktop",0),b.kc(1,"async"),b.Ec(2,lt,1,0,"ng-template",null,1,b.Fc)),2&t){var a=b.wc(3);b.pc("ngIf",!1===b.lc(1,2,e.isHandset$))("ngIfElse",a)}},directives:[i.m,et,st],pipes:[i.b],styles:[""]}),dt),gt=a("eW8b"),vt=((mt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:mt}),mt.\u0275inj=b.Ob({factory:function(t){return new(t||mt)},imports:[[i.c,O.V,O.t,i.c,O.t,x.u,x.h,O.m,O.L,M.g,O.C,gt.a,N.b,O.eb]]}),mt),kt=((pt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:pt}),pt.\u0275inj=b.Ob({factory:function(t){return new(t||pt)},imports:[[i.c,O.Db,O.t,x.u,x.h,O.m,O.L,M.g,O.C,gt.a,N.b,O.eb]]}),pt),Wt=((ft=function t(){_classCallCheck(this,t)}).\u0275mod=b.Pb({type:ft}),ft.\u0275inj=b.Ob({factory:function(t){return new(t||ft)},imports:[[i.c,vt,kt,M.g.forChild([{path:"",component:ht}])]]}),ft)}}]);