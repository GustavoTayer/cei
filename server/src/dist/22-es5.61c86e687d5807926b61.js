function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"3ZFV":function(t,e,n){"use strict";n.r(e),n.d(e,"ListaSolicitacaoModule",(function(){return ot}));var r,a,i=n("ofXK"),o=n("lJxs"),c=n("UXun"),s=n("fXoL"),u=n("nLfN"),b=n("XNiG"),l=n("itXk"),d=n("GyhO"),f=n("HDdC"),m=n("IzEk"),p=n("zP0r"),h=n("Kj3r"),v=n("JX91"),C=n("1G5W"),g=n("8LU1"),w=new Set,k=((a=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!w.has(t))try{r||((r=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(r)),r.sheet&&(r.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),w.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||a)(s.bc(u.a))},a.\u0275prov=Object(s.Nb)({factory:function(){return new a(Object(s.bc)(u.a))},token:a,providedIn:"root"}),a);function y(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var O,S=((O=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new b.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return _(Object(g.a)(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=_(Object(g.a)(t)).map((function(t){return e._registerQuery(t).observable})),r=Object(l.a)(n);return(r=Object(d.a)(r.pipe(Object(m.a)(1)),r.pipe(Object(p.a)(1),Object(h.a)(0)))).pipe(Object(o.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),r={observable:new f.a((function(t){var r=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(Object(v.a)(n),Object(o.a)((function(e){return{query:t,matches:e.matches}})),Object(C.a)(this._destroySubject)),mql:n};return this._queries.set(t,r),r}}]),t}()).\u0275fac=function(t){return new(t||O)(s.bc(k),s.bc(s.A))},O.\u0275prov=Object(s.Nb)({factory:function(){return new O(Object(s.bc)(k),Object(s.bc)(s.A))},token:O,providedIn:"root"}),O);function _(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var D=n("mrSG"),G=n("aceb"),j=n("8/IB"),E=n("vI6V"),X=n("wd/R"),W=n("wHSu"),M=n("3Pt+"),T=n("6NWb"),P=n("tyNb");function x(t,e){if(1&t&&(s.Xb(0,"nb-option",27),s.Gc(1),s.Wb()),2&t){var n=e.$implicit;s.pc("value",n),s.Eb(1),s.Hc(n.charAt(0)+n.slice(1).toLowerCase())}}function R(t,e){1&t&&s.Sb(0,"tr",28)}function I(t,e){1&t&&s.Sb(0,"tr",29)}function H(t,e){if(1&t&&(s.Xb(0,"th",30),s.Gc(1," Status/Produto "),s.Wb()),2&t){var n=s.jc();s.pc("nbSortHeader",n.getSortDirection("nome"))}}function q(t,e){if(1&t&&(s.Xb(0,"td",31),s.Gc(1),s.Wb()),2&t){var n=e.$implicit;s.Eb(1),s.Ic(" ",n.data.nome," ")}}function L(t,e){if(1&t&&(s.Xb(0,"th",30),s.Gc(1," Dt. Desejada/Qtd. Solicitada "),s.Wb()),2&t){var n=s.jc();s.pc("nbSortHeader",n.getSortDirection("uq"))}}function N(t,e){if(1&t&&(s.Xb(0,"td",31),s.Gc(1),s.Wb()),2&t){var n=e.$implicit;s.Eb(1),s.Ic(" ",n.data.uq," ")}}function Y(t,e){if(1&t&&(s.Xb(0,"th",30),s.Gc(1," Valor "),s.Wb()),2&t){var n=s.jc();s.pc("nbSortHeader",n.getSortDirection("valor"))}}function z(t,e){if(1&t&&(s.Xb(0,"td",31),s.Gc(1),s.Wb()),2&t){var n=e.$implicit;s.Eb(1),s.Ic(" ",n.data.valor," ")}}function B(t,e){if(1&t&&(s.Xb(0,"th",30),s.Gc(1," Criado em "),s.Wb()),2&t){var n=s.jc();s.pc("nbSortHeader",n.getSortDirection("dataDesejada"))}}function $(t,e){if(1&t&&(s.Xb(0,"td",31),s.Gc(1),s.Wb()),2&t){var n=e.$implicit;s.Eb(1),s.Ic(" ",n.data.criadoEm," ")}}var A,V,F=((V=function(){function t(e,n,r){_classCallCheck(this,t),this.dataSourceBuilder=e,this.solicitacaoProdutoService=n,this.fb=r,this.customColumn="nome",this.defaultColumns=[],this.allColumns=["nome","uq","valor","dataDesejada"],this.status=Object.values(E.d),this.sortDirection=G.fb.NONE,this.filtro=this.fb.group({dataCriacao:null,dataDesejada:null,status:null}),this.faSearch=W.c,this.faPlus=W.b}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(D.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=X().startOf("month"),n=X().endOf("month"),this.filtro.patchValue({status:E.d.ABERTO,dataCriacao:{start:e,end:n},dataDesejada:{start:e,end:n}}),this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value).subscribe((function(t){return r.setData(t)}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setData",value:function(t){this.data=t.map((function(t){var e=t.produtos;delete t.produtos;var n=e.map((function(t){return{data:{uq:t.quantidade,nome:t.produto.nome,valor:"R$ ".concat(t.valor.toFixed(2))}}})),r=X(t.dataDesejada).format("DD/MM/YYYY"),a=X(t.criadoEm).format("DD/MM/YYYY");return{data:{nome:t.status.charAt(0)+t.status.slice(1).toLowerCase(),uq:r,valor:"R$ ".concat(t.valorTotal.toFixed(2)),criadoEm:a},children:n}})),this.dataSource=this.dataSourceBuilder.create(this.data)}},{key:"buscar",value:function(){var t=this;this.solicitacaoProdutoService.buscarSolicitacoes(this.filtro.value).subscribe((function(e){return t.setData(e)}))}},{key:"updateSort",value:function(t){this.sortColumn=t.column,this.sortDirection=t.direction}},{key:"getSortDirection",value:function(t){return this.sortColumn===t?this.sortDirection:G.fb.NONE}},{key:"getShowOn",value:function(t){return 400+100*t}}]),t}()).\u0275fac=function(t){return new(t||V)(s.Rb(G.vb),s.Rb(j.a),s.Rb(M.c))},V.\u0275cmp=s.Lb({type:V,selectors:[["ngx-lista-solicitacao-desktop"]],decls:51,vars:11,consts:[[3,"formGroup"],[1,"row","form-group"],[1,"form-group","col-md-4"],["for","Nome","required","",1,"label"],["placeholder","Status","formControlName","status","fullWidth",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"form-control-group"],[1,"label"],["nbInput","","formControlName","dataCriacao",3,"nbDatepicker"],["format","DD/MM/YYYY"],["rangepicker",""],["nbInput","","formControlName","dataDesejada",3,"nbDatepicker"],["dataDesejada",""],["nbButton","","status","basic",2,"padding","6px","margin-right","8px",3,"click"],[2,"margin-right","5px",3,"icon"],["nbButton","","status","primary","routerLink","/pages/solicitacao-produto/solicitar",2,"padding","6px"],[3,"nbTreeGrid","nbSort","sort"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],[3,"nbTreeGridColumnDef"],["nbTreeGridHeaderCell","",3,"nbSortHeader",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","uq"],["nbTreeGridColumnDef","valor"],["nbTreeGridColumnDef","dataDesejada"],[3,"value"],["nbTreeGridHeaderRow",""],["nbTreeGridRow",""],["nbTreeGridHeaderCell","",3,"nbSortHeader"],["nbTreeGridCell",""]],template:function(t,e){if(1&t&&(s.Xb(0,"nb-card"),s.Xb(1,"nb-card-header"),s.Gc(2," Minhas solicita\xe7\xf5es "),s.Wb(),s.Xb(3,"nb-card-body"),s.Xb(4,"form",0),s.Xb(5,"div",1),s.Xb(6,"div",2),s.Xb(7,"label",3),s.Gc(8,"Status"),s.Wb(),s.Xb(9,"nb-select",4),s.Xb(10,"nb-option",5),s.Gc(11,"Todos"),s.Wb(),s.Ec(12,x,2,2,"nb-option",6),s.Wb(),s.Wb(),s.Xb(13,"div",7),s.Xb(14,"div",8),s.Xb(15,"label",9),s.Gc(16,"Data de cria\xe7\xe3o:"),s.Wb(),s.Sb(17,"input",10),s.Sb(18,"nb-rangepicker",11,12),s.Wb(),s.Wb(),s.Xb(20,"div",7),s.Xb(21,"div",8),s.Xb(22,"label",9),s.Gc(23,"Data desejada:"),s.Wb(),s.Sb(24,"input",13),s.Sb(25,"nb-rangepicker",11,14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"nb-card-footer"),s.Xb(28,"button",15),s.fc("click",(function(){return e.buscar()})),s.Sb(29,"fa-icon",16),s.Gc(30,"buscar "),s.Wb(),s.Xb(31,"button",17),s.Sb(32,"fa-icon",16),s.Gc(33,"solicita\xe7\xe3o "),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"nb-card"),s.Xb(35,"nb-card-body"),s.Xb(36,"table",18),s.fc("sort",(function(t){return e.updateSort(t)})),s.Ec(37,R,1,0,"tr",19),s.Ec(38,I,1,0,"tr",20),s.Vb(39,21),s.Ec(40,H,2,1,"th",22),s.Ec(41,q,2,1,"td",23),s.Ub(),s.Vb(42,24),s.Ec(43,L,2,1,"th",22),s.Ec(44,N,2,1,"td",23),s.Ub(),s.Vb(45,25),s.Ec(46,Y,2,1,"th",22),s.Ec(47,z,2,1,"td",23),s.Ub(),s.Vb(48,26),s.Ec(49,B,2,1,"th",22),s.Ec(50,$,2,1,"td",23),s.Ub(),s.Wb(),s.Wb(),s.Wb()),2&t){var n=s.wc(19),r=s.wc(26);s.Eb(4),s.pc("formGroup",e.filtro),s.Eb(8),s.pc("ngForOf",e.status),s.Eb(5),s.pc("nbDatepicker",n),s.Eb(7),s.pc("nbDatepicker",r),s.Eb(5),s.pc("icon",e.faSearch),s.Eb(3),s.pc("icon",e.faPlus),s.Eb(4),s.pc("nbTreeGrid",e.dataSource)("nbSort",e.dataSource),s.Eb(1),s.pc("nbTreeGridHeaderRowDef",e.allColumns),s.Eb(1),s.pc("nbTreeGridRowDefColumns",e.allColumns),s.Eb(1),s.pc("nbTreeGridColumnDef",e.customColumn)}},directives:[G.o,G.q,G.n,M.z,M.o,M.g,G.ab,M.n,M.f,G.X,i.l,G.H,M.b,G.z,G.Y,G.p,G.l,T.a,P.d,G.ub,G.gb,G.zb,G.Cb,G.tb,G.wb,G.rb,G.yb,G.Bb,G.xb,G.hb,G.sb],styles:["button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:400px){.nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width:500px){.nb-column-kind[_ngcontent-%COMP%], .nb-column-name[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:33.333%}}@media screen and (min-width:600px){.nb-column-name[_ngcontent-%COMP%]{width:31%}.nb-column-items[_ngcontent-%COMP%], .nb-column-kind[_ngcontent-%COMP%], .nb-column-size[_ngcontent-%COMP%]{width:23%}}"]}),V),U=((A=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275cmp=s.Lb({type:A,selectors:[["ngx-lista-solicitacao-mobile"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Xb(0,"p"),s.Gc(1," lista-solicitacao-mobile works!\n"),s.Wb())},styles:[""]}),A);function J(t,e){1&t&&s.Sb(0,"ngx-lista-solicitacao-desktop")}function Q(t,e){1&t&&s.Sb(0,"ngx-lista-solicitacao-mobile")}var K,Z,tt,et,nt=((Z=function(){function t(e){_classCallCheck(this,t),this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)").pipe(Object(o.a)((function(t){return t.matches})),Object(c.a)())}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Z)(s.Rb(S))},Z.\u0275cmp=s.Lb({type:Z,selectors:[["ngx-lista-solicitacao"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["mobileList",""]],template:function(t,e){if(1&t&&(s.Ec(0,J,1,0,"ngx-lista-solicitacao-desktop",0),s.kc(1,"async"),s.Ec(2,Q,1,0,"ng-template",null,1,s.Fc)),2&t){var n=s.wc(3);s.pc("ngIf",!1===s.lc(1,2,e.isHandset$))("ngIfElse",n)}},directives:[i.m,F,U],pipes:[i.b],styles:[""]}),Z),rt=((K=function t(){_classCallCheck(this,t)}).\u0275mod=s.Pb({type:K}),K.\u0275inj=s.Ob({factory:function(t){return new(t||K)},imports:[[i.c,G.S,G.r]]}),K),at=n("eW8b"),it=((et=function t(){_classCallCheck(this,t)}).\u0275mod=s.Pb({type:et}),et.\u0275inj=s.Ob({factory:function(t){return new(t||et)},imports:[[i.c,G.Ab,G.r,M.u,M.h,G.m,G.I,P.g,G.A,at.a,T.b,G.bb]]}),et),ot=((tt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Pb({type:tt}),tt.\u0275inj=s.Ob({factory:function(t){return new(t||tt)},imports:[[i.c,rt,it,P.g.forChild([{path:"",component:nt}])]]}),tt)}}]);