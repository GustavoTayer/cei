(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{lu3c:function(r,o,e){"use strict";e.r(o),e.d(o,"LoginModule",(function(){return h}));var t=e("ofXK"),n=e("3Pt+"),s=e("qXBG"),a=e("fXoL"),i=e("tyNb"),l=e("aceb");function c(r,o){if(1&r&&(a.Xb(0,"li",18),a.Gc(1),a.Wb()),2&r){const r=o.$implicit;a.Eb(1),a.Hc(r)}}function u(r,o){if(1&r&&(a.Xb(0,"nb-alert",14),a.Xb(1,"p",15),a.Xb(2,"b"),a.Gc(3,"Ah n\xe3o!"),a.Wb(),a.Wb(),a.Xb(4,"ul",16),a.Ec(5,c,2,1,"li",17),a.Wb(),a.Wb()),2&r){const r=a.jc();a.Eb(5),a.pc("ngForOf",r.errors)}}function b(r,o){1&r&&(a.Xb(0,"p",20),a.Gc(1," Favor digitar o email! "),a.Wb())}function f(r,o){1&r&&(a.Xb(0,"p",20),a.Gc(1," Favor digitar um email v\xe1lido! "),a.Wb())}function m(r,o){if(1&r&&(a.Vb(0),a.Ec(1,b,2,0,"p",19),a.Ec(2,f,2,0,"p",19),a.Ub()),2&r){const r=a.jc();a.Eb(1),a.pc("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.required),a.Eb(1),a.pc("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)}}function p(r,o){1&r&&(a.Xb(0,"p",20),a.Gc(1," Favor, digitar a senha! "),a.Wb())}function d(r,o){if(1&r&&(a.Vb(0),a.Ec(1,p,2,0,"p",19),a.Ub()),2&r){const r=a.jc();a.Eb(1),a.pc("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)}}let g=(()=>{class r{constructor(r,o,e){this.fb=r,this.auth=o,this.router=e,this.form=this.fb.group({email:[null,[n.x.required,n.x.email]],password:[null,n.x.required]})}ngOnInit(){}login(){this.form.valid&&this.auth.loginUser({email:this.form.value.email,password:this.form.value.password}).subscribe(r=>{localStorage.setItem("usuarioNome",r.name),localStorage.setItem("token",r.token),this.router.navigate(["pages/dashboard"])},r=>{this.errors=r.error&&r.error.errors?r.error.errors:["Erro desconhecido."]})}}return r.\u0275fac=function(o){return new(o||r)(a.Rb(n.c),a.Rb(s.a),a.Rb(i.c))},r.\u0275cmp=a.Lb({type:r,selectors:[["ngx-login"]],decls:23,vars:6,consts:[["id","title",1,"title"],[1,"sub-title"],["outline","danger","role","alert",4,"ngIf"],[3,"formGroup"],[1,"form-control-group"],["for","input-email",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","placeholder","Email","fieldSize","large","formControlName","email","autofocus","",3,"status"],[4,"ngIf"],[1,"label-with-link"],["for","input-password",1,"label"],["routerLink","../request-password",1,"forgot-password","caption-2"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Senha","fieldSize","large","formControlName","password",3,"status"],["nbButton","","fullWidth","","status","primary","size","large",3,"click"],["aria-label","Register",1,"another-action"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,o){1&r&&(a.Xb(0,"h1",0),a.Gc(1,"Convivum Interno"),a.Wb(),a.Xb(2,"p",1),a.Gc(3,"Ol\xe1! Bem vindo ao nosso sistema interno para seminaristas e formadores"),a.Wb(),a.Ec(4,u,6,1,"nb-alert",2),a.Xb(5,"form",3),a.Xb(6,"div",4),a.Xb(7,"label",5),a.Gc(8,"Email:"),a.Wb(),a.Sb(9,"input",6),a.Ec(10,m,3,2,"ng-container",7),a.Wb(),a.Xb(11,"div",4),a.Xb(12,"span",8),a.Xb(13,"label",9),a.Gc(14,"Senha:"),a.Wb(),a.Xb(15,"a",10),a.Gc(16,"Forgot Password?"),a.Wb(),a.Wb(),a.Sb(17,"input",11),a.Ec(18,d,2,1,"ng-container",7),a.Wb(),a.Xb(19,"button",12),a.fc("click",(function(){return o.login()})),a.Gc(20," Entrar "),a.Wb(),a.Wb(),a.Xb(21,"section",13),a.Gc(22," N\xe3o possui uma conta? Solicite um convite ao respons\xe1vel.\n"),a.Wb()),2&r&&(a.Eb(4),a.pc("ngIf",o.errors&&o.errors.length),a.Eb(1),a.pc("formGroup",o.form),a.Eb(4),a.pc("status",o.form.controls.email.invalid?"danger":"success"),a.Eb(1),a.pc("ngIf",o.form.controls.email.invalid&&o.form.controls.email.touched),a.Eb(7),a.pc("status",o.form.controls.password.invalid?"danger":"success"),a.Eb(1),a.pc("ngIf",o.form.controls.password.invalid&&o.form.controls.password.touched))},directives:[t.m,n.z,n.o,n.g,l.K,n.b,n.n,n.f,i.f,l.l,l.j,t.l],styles:[""]}),r})(),h=(()=>{class r{}return r.\u0275mod=a.Pb({type:r}),r.\u0275inj=a.Ob({factory:function(o){return new(o||r)},imports:[[t.c,l.J,i.g,n.u,l.k,l.L,l.m,n.h,i.g.forChild([{path:"",component:g}])]]}),r})()}}]);