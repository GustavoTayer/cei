(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{HYE6:function(i,o,n){"use strict";n.r(o),n.d(o,"UsuarioConvidarModule",(function(){return f}));var t=n("ofXK"),r=n("tyNb"),c=n("3Pt+"),a=n("vI6V"),e=n("v8Ly"),s=n("fXoL"),b=n("aceb");function u(i,o){if(1&i&&(s.Xb(0,"nb-option",19),s.Gc(1),s.Wb()),2&i){const i=o.$implicit;s.pc("value",i.k),s.Eb(1),s.Hc(i.v)}}function d(i,o){if(1&i){const i=s.Yb();s.Xb(0,"nb-list-item"),s.Xb(1,"form",2),s.Xb(2,"div",12),s.Xb(3,"div",13),s.Sb(4,"input",14),s.Wb(),s.Xb(5,"div",13),s.Xb(6,"nb-select",15),s.Ec(7,u,2,2,"nb-option",16),s.Wb(),s.Wb(),s.Xb(8,"div",13),s.Xb(9,"button",17),s.fc("click",(function(){s.yc(i);const n=o.$implicit;return s.jc().remove(n)})),s.Sb(10,"nb-icon",18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&i){const i=o.$implicit,n=s.jc();s.Eb(1),s.pc("formGroup",i),s.Eb(6),s.pc("ngForOf",n.comunidades)}}const l=[{path:"",component:(()=>{class i{constructor(i,o){this.fb=i,this.usuarioService=o,this.form=this.fb.group({email:[null,c.x.email]}),this.comunidades=Object.keys(a.a).map(i=>({k:i,v:a.a[i]})),this.hierarquia=Object.keys(a.c).map(i=>({k:i,v:a.c[i]})),this.convidados=[]}ngOnInit(){}remove(i){this.convidados=this.convidados.filter(o=>o.value.email!==i.value.email)}add(){if(this.form.valid){const i=this.fb.group({email:null,comunidade:null});i.patchValue({email:this.form.value.email,comunidade:"PROPEDEUTICO"}),this.convidados.push(i),this.form.patchValue({email:null})}}enviarConvites(){const i=this.convidados.map(i=>({email:i.value.email,comunidade:i.value.comunidade}));this.usuarioService.criarConvite(i).subscribe(i=>{this.convidados=[]})}verificaValidacaoCampo(i,o){return this.form.controls[i].dirty&&(o?this.form.controls[i].errors&&this.form.controls[i].errors[o]:this.form.controls[i].invalid)}}return i.\u0275fac=function(o){return new(o||i)(s.Rb(c.c),s.Rb(e.a))},i.\u0275cmp=s.Lb({type:i,selectors:[["ngx-usuario-convidar"]],decls:24,vars:4,consts:[["nbButton","","size","small","ghost","","routerLink","/pages/admin/usuarios"],["icon","arrow-left"],[3,"formGroup"],[1,"row"],[1,"col-10"],["type","email","nbInput","","placeholder","Email","fullWidth","","id","Email","formControlName","email",3,"status"],[1,"col-2"],["type","submit","nbButton","","hero","","status","danger",3,"click"],["icon","plus"],["nbButton","","status","primary",3,"disabled","click"],["icon","email"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-around"],[1,"form-group","col"],["nbInput","","formControlName","email","fullWidth","",2,"min-width","200px"],["placeholder","Comunidade","fullWidth","","formControlName","comunidade"],[3,"value",4,"ngFor","ngForOf"],["nbButton","","hero","","size","small","status","danger",3,"click"],["icon","minus"],[3,"value"]],template:function(i,o){1&i&&(s.Xb(0,"nb-card"),s.Xb(1,"nb-card-header"),s.Xb(2,"button",0),s.Sb(3,"nb-icon",1),s.Wb(),s.Gc(4," Convidar Usu\xe1rios"),s.Wb(),s.Xb(5,"nb-card-body"),s.Xb(6,"form",2),s.Xb(7,"div",3),s.Xb(8,"div",4),s.Sb(9,"input",5),s.Wb(),s.Xb(10,"div",6),s.Xb(11,"button",7),s.fc("click",(function(){return o.add()})),s.Sb(12,"nb-icon",8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"nb-card-footer"),s.Xb(14,"div",6),s.Xb(15,"button",9),s.fc("click",(function(){return o.enviarConvites()})),s.Sb(16,"nb-icon",10),s.Gc(17," enviar convites"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"nb-card"),s.Xb(19,"nb-card-header"),s.Gc(20," Lista de convidados "),s.Wb(),s.Xb(21,"nb-card-body"),s.Xb(22,"nb-list"),s.Ec(23,d,11,2,"nb-list-item",11),s.Wb(),s.Wb(),s.Wb()),2&i&&(s.Eb(6),s.pc("formGroup",o.form),s.Eb(3),s.pc("status",o.verificaValidacaoCampo("email")?"danger":""),s.Eb(6),s.pc("disabled",!o.convidados||!o.convidados.length),s.Eb(8),s.pc("ngForOf",o.convidados))},directives:[b.o,b.q,b.l,r.d,b.E,b.n,c.z,c.o,c.g,b.H,c.b,c.n,c.f,b.p,b.Q,t.l,b.R,b.ab,b.X],styles:[""]}),i})()}];let m=(()=>{class i{}return i.\u0275mod=s.Pb({type:i}),i.\u0275inj=s.Ob({factory:function(o){return new(o||i)},imports:[[r.g.forChild(l)],r.g]}),i})(),f=(()=>{class i{}return i.\u0275mod=s.Pb({type:i}),i.\u0275inj=s.Ob({factory:function(o){return new(o||i)},imports:[[t.c,b.r,b.I,b.S,b.bb,b.m,b.I,b.G,c.u,c.h,m]]}),i})()},vI6V:function(i,o,n){"use strict";n.d(o,"d",(function(){return t})),n.d(o,"a",(function(){return r})),n.d(o,"c",(function(){return c})),n.d(o,"b",(function(){return a}));var t=function(i){return i.ABERTO="ABERTO",i.PRODUZINDO="PRODUZINDO",i.ENTREGUE="ENTREGUE",i.PAGO="PAGO",i}({}),r=function(i){return i.PROPEDEUTICO="Proped\xeautico",i.FILOSOFIA="Filosofia",i.TEOLOGIA="Teologia",i.TIROCINIO="Tirocinio",i}({}),c=function(i){return i.SEMINARISTA="Seminarista",i.FORMADOR="Formador",i.REITOR="Reitor",i}({}),a=function(i){return i.COMPRAS="Compras",i.REDES_SOCIAIS="Redes Sociais",i.JARDINAGEM="Jardinagem",i.PARTILHA_SOLIDARIA="Partilha solid\xe1ria",i.PRODUTOS="Produtos",i.OUTROS="Outros",i}({})}}]);