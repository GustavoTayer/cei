(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{UrDz:function(a,e,r){"use strict";r.r(e),r.d(e,"RegisterModule",(function(){return q}));var i=r("ofXK"),t=r("3Pt+"),o=r("qXBG"),n=r("fXoL"),s=r("tyNb"),l=r("aceb");function c(a,e){if(1&a&&(n.Yb(0,"li",20),n.Ic(1),n.Xb()),2&a){const a=e.$implicit;n.Fb(1),n.Jc(a)}}function b(a,e){if(1&a&&(n.Yb(0,"nb-alert",16),n.Yb(1,"p",17),n.Yb(2,"b"),n.Ic(3,"Oh snap!"),n.Xb(),n.Xb(),n.Yb(4,"ul",18),n.Gc(5,c,2,1,"li",19),n.Xb(),n.Xb()),2&a){const a=n.kc();n.Fb(5),n.qc("ngForOf",a.errors)}}function u(a,e){1&a&&(n.Yb(0,"p",22),n.Ic(1," Campo obrigat\xf3rio! "),n.Xb())}function d(a,e){if(1&a&&(n.Wb(0),n.Gc(1,u,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.qc("ngIf",a.verificaValidacaoCampo("name","required"))}}function f(a,e){1&a&&(n.Yb(0,"p",22),n.Ic(1," Senha \xe9 obrigat\xf3rio! "),n.Xb())}function m(a,e){1&a&&(n.Yb(0,"p",22),n.Ic(1," Senha precisar ter: uma letra mai\xfascula, uma letra min\xfascula, um n\xfamero, um caractere especial (@#$%) e tamanho entre 6-20. "),n.Xb())}function p(a,e){if(1&a&&(n.Wb(0),n.Gc(1,f,2,0,"p",21),n.Gc(2,m,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.qc("ngIf",a.verificaValidacaoCampo("password","required")),n.Fb(1),n.qc("ngIf",a.verificaValidacaoCampo("password","senhaFraca"))}}function g(a,e){1&a&&(n.Yb(0,"p",22),n.Ic(1," Confimar senha \xe9 obrigat\xf3rio! "),n.Xb())}function h(a,e){1&a&&(n.Yb(0,"p",22),n.Ic(1," As senhas n\xe3o est\xe3o combinando "),n.Xb())}function v(a,e){if(1&a&&(n.Wb(0),n.Gc(1,g,2,0,"p",21),n.Gc(2,h,2,0,"p",21),n.Vb()),2&a){const a=n.kc();n.Fb(1),n.qc("ngIf",a.verificaValidacaoCampo("confirm_password","required")),n.Fb(1),n.qc("ngIf",a.validateEqualPassword())}}const w=function(){return["/auth/login"]};let I=(()=>{class a{constructor(a,e,r,i){this.fb=a,this.authService=e,this.route=r,this.router=i,this.form=this.fb.group({name:[null,t.x.required],email:null,comunidade:null,password:[null,[t.x.required,this.validatePassword]],confirm_password:[null,t.x.required],bd:null}),this.password="",this.route.params.subscribe(a=>{this.id=a.id,"novo"!==this.id&&this.authService.obterConvite(this.id).subscribe(a=>{this.form.patchValue(Object.assign({},a)),this.form.controls.email.disable()},a=>alert(a))})}ngOnInit(){this.form.controls.password.valueChanges.subscribe(a=>{this.password=a})}validateEqualPassword(){return this.form.value.password!==this.form.value.confirm_password}validatePassword(a){return a.value&&a.value.match(/((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})/)?null:{senhaFraca:{valid:!1}}}register(){this.authService.registerUser(Object.assign(Object.assign({},this.form.getRawValue()),{conviteId:this.id})).subscribe(a=>{localStorage.setItem("usuarioNome",a.name),localStorage.setItem("token",a.token),this.router.navigate(["pages/dashboard"])})}verificaValidacaoCampo(a,e){return this.form.controls[a].dirty&&(e?this.form.controls[a].errors&&this.form.controls[a].errors[e]:this.form.controls[a].invalid)}getConfigValue(){}}return a.\u0275fac=function(e){return new(e||a)(n.Sb(t.c),n.Sb(o.a),n.Sb(s.a),n.Sb(s.c))},a.\u0275cmp=n.Mb({type:a,selectors:[["ngx-register"]],decls:29,vars:11,consts:[["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["aria-labelledby","title",3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-name",1,"label"],["nbInput","","formControlName","name","id","input-name","name","fullName","placeholder","Nome","autofocus","","fullWidth","","fieldSize","large",3,"status"],[4,"ngIf"],["for","input-email",1,"label"],["nbInput","","formControlName","email","id","input-email","name","email","placeholder","Email","fullWidth","","fieldSize","large"],["for","input-password",1,"label"],["nbInput","","formControlName","password","type","password","id","input-password","name","password","placeholder","Senha","fullWidth","","fieldSize","large",3,"status"],["for","input-re-password",1,"label"],["nbInput","","formControlName","confirm_password","type","password","id","input-re-password","name","rePass","placeholder","Confirmar senha","fullWidth","","fieldSize","large",3,"status"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["aria-label","Sign in",1,"another-action"],[1,"text-link",3,"routerLink"],["outline","danger","role","alert"],[1,"alert-title"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(a,e){1&a&&(n.Yb(0,"h1",0),n.Ic(1,"Registro"),n.Xb(),n.Gc(2,b,6,1,"nb-alert",1),n.Yb(3,"form",2),n.gc("ngSubmit",(function(){return e.register()})),n.Yb(4,"div",3),n.Yb(5,"label",4),n.Ic(6,"Nome:"),n.Xb(),n.Tb(7,"input",5),n.Gc(8,d,2,1,"ng-container",6),n.Xb(),n.Yb(9,"div",3),n.Yb(10,"label",7),n.Ic(11,"Email:"),n.Xb(),n.Tb(12,"input",8),n.Xb(),n.Yb(13,"div",3),n.Yb(14,"label",9),n.Ic(15,"Senha:"),n.Xb(),n.Tb(16,"input",10),n.Gc(17,p,3,2,"ng-container",6),n.Xb(),n.Yb(18,"div",3),n.Yb(19,"label",11),n.Ic(20,"Confirmar senha:"),n.Xb(),n.Tb(21,"input",12),n.Gc(22,v,3,2,"ng-container",6),n.Xb(),n.Yb(23,"button",13),n.Ic(24," Criar conta "),n.Xb(),n.Xb(),n.Yb(25,"section",14),n.Ic(26," J\xe1 possui uma conta? "),n.Yb(27,"a",15),n.Ic(28,"entrar"),n.Xb(),n.Xb()),2&a&&(n.Fb(2),n.qc("ngIf",null==e.errors?null:e.errors.length),n.Fb(1),n.qc("formGroup",e.form),n.Fb(4),n.qc("status",e.verificaValidacaoCampo("name")?"danger":"basic"),n.Fb(1),n.qc("ngIf",e.verificaValidacaoCampo("name")),n.Fb(8),n.qc("status",e.verificaValidacaoCampo("password")?"danger":"basic"),n.Fb(1),n.qc("ngIf",e.verificaValidacaoCampo("password")),n.Fb(4),n.qc("status",e.verificaValidacaoCampo("confirm_password")||e.validateEqualPassword()?"danger":"basic"),n.Fb(1),n.qc("ngIf",e.verificaValidacaoCampo("confirm_password")||e.validateEqualPassword()),n.Fb(1),n.qc("disabled",!e.form.valid||e.validateEqualPassword()),n.Fb(4),n.qc("routerLink",n.sc(10,w)))},directives:[i.m,t.z,t.o,t.g,l.K,t.b,t.n,t.f,l.l,s.f,l.j,i.l],styles:[""]}),a})(),q=(()=>{class a{}return a.\u0275mod=n.Qb({type:a}),a.\u0275inj=n.Pb({factory:function(e){return new(e||a)},imports:[[i.c,l.J,l.L,t.u,l.k,l.m,t.h,l.w,s.g.forChild([{path:":id",component:I}])]]}),a})()}}]);